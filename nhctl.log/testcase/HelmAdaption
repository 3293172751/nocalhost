Aug  2 19:53:58	[INFO]	
============= Testing (Start)[HelmAdaption]  =============
	{"TAG": "HelmAdaption"}
Aug  2 19:53:59	[INFO]	Running command: [[kubectl --kubeconfig /Users/anur/.kube/config create ns lgwrthcjrc]]	{"TAG": "HelmAdaption"}
Aug  2 19:53:59	[INFO]	
============= Testing (Create Ns)[HelmAdaption]  =============
	{"TAG": "HelmAdaption"}
Aug  2 19:53:59	[INFO]	
============= Testing (Test)[HelmAdaption] =============
	{"TAG": "HelmAdaption"}
Aug  2 19:53:59	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config install bookinfohelm -u https://github.com/nocalhost/bookinfo.git -t helmGit -r test-case --resource-path charts/bookinfo --config config.helm.helmvals.yaml]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:19	[INFO]	Command output: [
[Installing application...
cmd: git clone --branch test-case --depth 1 https://github.com/nocalhost/bookinfo.git /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/208639217 --config core.sshCommand=ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
Updating helm repo...
cmd: helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "artifact-hub" chart repository
...Successfully got an update from the "coding-helm" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete. ⎈Happy Helming!⎈
building dependency...
cmd: helm dependency build /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/208639217/charts/bookinfo --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
Installing helm application, this may take several minutes, please waiting...
cmd: helm install bookinfohelm /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/208639217/charts/bookinfo -f /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/489029020/nocalhost.helmvals --timeout 60m --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
NAME: bookinfohelm
LAST DEPLOYED: Mon Aug  2 19:54:16 2021
NAMESPACE: lgwrthcjrc
STATUS: deployed
REVISION: 1
TEST SUITE: None
helm nocalhost app installed, use "helm list -n lgwrthcjrc" to
get the information of the helm release
Application bookinfohelm installed
 Cloning into '/var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/208639217'...
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: v1
kind: Service
metadata:
  name: details
  labels:
    app: details
    service: details
spec:
  ports:
  - port: 9082
    name: http
  selector:
    app: details
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: v1
kind: Service
metadata:
  name: productpage
  labels:
    app: productpage
    service: productpage
spec:
  ports:
  - port: 9082
    name: http
  selector:
    app: productpage
  type: NodePort
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: v1
kind: Service
metadata:
  name: ratings
  labels:
    app: ratings
    service: ratings
spec:
  ports:
  - port: 9082
    name: http
  selector:
    app: ratings
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: v1
kind: Service
metadata:
  name: reviews
  labels:
    app: reviews
    service: reviews
spec:
  ports:
  - port: 9082
    name: http
  selector:
    app: reviews
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: details
  labels:
    app: details
spec:
  replicas: 2
  selector:
    matchLabels:
      app: details
  template:
    metadata:
      labels:
        app: details
    spec:
      containers:
      - name: details
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/details:latest
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9082
        resources:
          limits:
            cpu: 1m
            memory: 1Mi
          requests:
            cpu: 1m
            memory: 1Mi
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: productpage
  labels:
    app: productpage
    app.kubernetes.io/name: productpage
spec:
  replicas: 2
  selector:
    matchLabels:
      app.kubernetes.io/name: productpage
      app: productpage
  template:
    metadata:
      labels:
        app.kubernetes.io/name: productpage
        app: productpage
    spec:
      containers:
      - name: productpage
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/productpage:latest
        imagePullPolicy: IfNotPresent
        command: ['python', 'productpage.py', '9080']
        resources:
          limits:
            cpu: 1m
            memory: 1Mi
          requests:
            cpu: 1m
            memory: 1Mi
        ports:
        - containerPort: 9080
        readinessProbe:
          tcpSocket:
            port: 9082
          initialDelaySeconds: 5
          periodSeconds: 10
        volumeMounts:
        - name: tmp
          mountPath: /tmp
      volumes:
      - name: tmp
        emptyDir: {}
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ratings
  labels:
    app: ratings
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ratings
  template:
    metadata:
      labels:
        app: ratings
    spec:
      containers:
      - name: ratings
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/ratings:latest
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9082
        resources:
          limits:
            cpu: 1m
            memory: 1Mi
          requests:
            cpu: 1m
            memory: 1Mi
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reviews
  labels:
    app: reviews
spec:
  replicas: 2
  selector:
    matchLabels:
      app: reviews
  template:
    metadata:
      labels:
        app: reviews
    spec:
      containers:
      - name: reviews
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/reviews:latest
        env:
        - name: server.port
          value: "9082"
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9082
        resources:
          limits:
            cpu: 1m
            memory: 1Mi
          requests:
            cpu: 1m
            memory: 1Mi

        livenessProbe:
          httpGet:
            path: /health
            port: 9082
          failureThreshold: 1
          periodSeconds: 10
---
# Source: nocalhost-bookinfo/templates/dep-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: dep-job
  labels:
    app: dep-job
spec:
  template:
    spec:
      containers:
      - name: print-num
        image: codingcorp-docker.pkg.coding.net/nocalhost/public/alpine:latest
        command: ["sleep", "2"]
      restartPolicy: Never
  backoffLimit: 4

]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:19	[INFO]	Running command: [[kubectl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config get deployment details -o yaml]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:20	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:20	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:21	[INFO]	Command output: [
[NAME        	NAMESPACE 	REVISION	UPDATED                             	STATUS  	CHART                   	APP VERSION
bookinfohelm	lgwrthcjrc	1       	2021-08-02 19:54:16.132571 +0800 CST	deployed	nocalhost-bookinfo-1.2.2	1.3        
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:21	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config uninstall bookinfohelm]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:25	[INFO]	Command output: [
[release "bookinfohelm" uninstalled
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:26	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:28	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:28	[INFO]	Command output: [
[NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:28	[INFO]	Running command: [[git clone --depth 1 https://github.com/nocalhost/bookinfo.git /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/035532252]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:30	[INFO]	Command output: [
[ Cloning into '/var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/035532252'...
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:30	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config dependency build /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/035532252/charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:31	[INFO]	Command output: [
[ WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:31	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config install bookinfohelm /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/035532252/charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:36	[INFO]	Command output: [
[NAME: bookinfohelm
LAST DEPLOYED: Mon Aug  2 19:54:35 2021
NAMESPACE: lgwrthcjrc
STATUS: deployed
REVISION: 1
TEST SUITE: None
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: v1
kind: Service
metadata:
  name: details
  labels:
    app: details
    service: details
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: details
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: v1
kind: Service
metadata:
  name: productpage
  labels:
    app: productpage
    service: productpage
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: productpage
  type: NodePort
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: v1
kind: Service
metadata:
  name: ratings
  labels:
    app: ratings
    service: ratings
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: ratings
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: v1
kind: Service
metadata:
  name: reviews
  labels:
    app: reviews
    service: reviews
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: reviews
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: details
  labels:
    app: details
spec:
  replicas: 2
  selector:
    matchLabels:
      app: details
  template:
    metadata:
      labels:
        app: details
    spec:
      containers:
      - name: details
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/details
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: productpage
  labels:
    app: productpage
    app.kubernetes.io/name: productpage
spec:
  replicas: 2
  selector:
    matchLabels:
      app.kubernetes.io/name: productpage
      app: productpage
  template:
    metadata:
      labels:
        app.kubernetes.io/name: productpage
        app: productpage
    spec:
      containers:
      - name: productpage
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/productpage
        imagePullPolicy: IfNotPresent
        command: ['python', 'productpage.py', '9080']
        ports:
        - containerPort: 9080
        readinessProbe:
          tcpSocket:
            port: 9080
          initialDelaySeconds: 5
          periodSeconds: 10
        volumeMounts:
        - name: tmp
          mountPath: /tmp
      volumes:
      - name: tmp
        emptyDir: {}
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ratings
  labels:
    app: ratings
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ratings
  template:
    metadata:
      labels:
        app: ratings
    spec:
      containers:
      - name: ratings
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/ratings
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reviews
  labels:
    app: reviews
spec:
  replicas: 2
  selector:
    matchLabels:
      app: reviews
  template:
    metadata:
      labels:
        app: reviews
    spec:
      containers:
      - name: reviews
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/reviews
        env:
        - name: server.port
          value: "9080"
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
        
        livenessProbe:
          httpGet:
            path: /health
            port: 9080
          failureThreshold: 1
          periodSeconds: 10
---
# Source: nocalhost-bookinfo/templates/dep-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: dep-job
  labels:
    app: dep-job
spec:
  template:
    spec:
      containers:
      - name: print-num
        image: codingcorp-docker.pkg.coding.net/nocalhost/public/alpine:latest
        command: ["sleep", "2"]
      restartPolicy: Never
  backoffLimit: 4

]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:37	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:37	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:38	[INFO]	Command output: [
[NAME        	NAMESPACE 	REVISION	UPDATED                             	STATUS  	CHART                   	APP VERSION
bookinfohelm	lgwrthcjrc	1       	2021-08-02 19:54:35.600711 +0800 CST	deployed	nocalhost-bookinfo-1.2.2	1.3        
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:38	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config uninstall bookinfohelm]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:40	[INFO]	Command output: [
[release "bookinfohelm" uninstalled
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:41	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:42	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:54:42	[INFO]	Command output: [
[NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:54:42	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config install bookinfohelm -u https://github.com/nocalhost/bookinfo.git -t helmGit --resource-path charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:01	[INFO]	Command output: [
[Installing application...
cmd: git clone --depth 1 https://github.com/nocalhost/bookinfo.git /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/032369862 --config core.sshCommand=ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
Updating helm repo...
cmd: helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "artifact-hub" chart repository
...Successfully got an update from the "coding-helm" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete. ⎈Happy Helming!⎈
building dependency...
cmd: helm dependency build /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/032369862/charts/bookinfo --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
Installing helm application, this may take several minutes, please waiting...
cmd: helm install bookinfohelm /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/032369862/charts/bookinfo --timeout 60m --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
NAME: bookinfohelm
LAST DEPLOYED: Mon Aug  2 19:54:57 2021
NAMESPACE: lgwrthcjrc
STATUS: deployed
REVISION: 1
TEST SUITE: None
helm nocalhost app installed, use "helm list -n lgwrthcjrc" to
get the information of the helm release
Application bookinfohelm installed
Starting port-forward for deployment productpage
Port forward 39080:9080
Port-forward 39080:9080 has been started
 Cloning into '/var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/032369862'...
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: v1
kind: Service
metadata:
  name: details
  labels:
    app: details
    service: details
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: details
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: v1
kind: Service
metadata:
  name: productpage
  labels:
    app: productpage
    service: productpage
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: productpage
  type: NodePort
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: v1
kind: Service
metadata:
  name: ratings
  labels:
    app: ratings
    service: ratings
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: ratings
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: v1
kind: Service
metadata:
  name: reviews
  labels:
    app: reviews
    service: reviews
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: reviews
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: details
  labels:
    app: details
spec:
  replicas: 2
  selector:
    matchLabels:
      app: details
  template:
    metadata:
      labels:
        app: details
    spec:
      containers:
      - name: details
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/details
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: productpage
  labels:
    app: productpage
    app.kubernetes.io/name: productpage
spec:
  replicas: 2
  selector:
    matchLabels:
      app.kubernetes.io/name: productpage
      app: productpage
  template:
    metadata:
      labels:
        app.kubernetes.io/name: productpage
        app: productpage
    spec:
      containers:
      - name: productpage
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/productpage
        imagePullPolicy: IfNotPresent
        command: ['python', 'productpage.py', '9080']
        ports:
        - containerPort: 9080
        readinessProbe:
          tcpSocket:
            port: 9080
          initialDelaySeconds: 5
          periodSeconds: 10
        volumeMounts:
        - name: tmp
          mountPath: /tmp
      volumes:
      - name: tmp
        emptyDir: {}
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ratings
  labels:
    app: ratings
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ratings
  template:
    metadata:
      labels:
        app: ratings
    spec:
      containers:
      - name: ratings
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/ratings
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reviews
  labels:
    app: reviews
spec:
  replicas: 2
  selector:
    matchLabels:
      app: reviews
  template:
    metadata:
      labels:
        app: reviews
    spec:
      containers:
      - name: reviews
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/reviews
        env:
        - name: server.port
          value: "9080"
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
        
        livenessProbe:
          httpGet:
            path: /health
            port: 9080
          failureThreshold: 1
          periodSeconds: 10
---
# Source: nocalhost-bookinfo/templates/dep-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: dep-job
  labels:
    app: dep-job
spec:
  template:
    spec:
      containers:
      - name: print-num
        image: codingcorp-docker.pkg.coding.net/nocalhost/public/alpine:latest
        command: ["sleep", "2"]
      restartPolicy: Never
  backoffLimit: 4

]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:02	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:03	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:03	[INFO]	Command output: [
[NAME        	NAMESPACE 	REVISION	UPDATED                             	STATUS  	CHART                   	APP VERSION
bookinfohelm	lgwrthcjrc	1       	2021-08-02 19:54:57.196596 +0800 CST	deployed	nocalhost-bookinfo-1.2.2	1.3        
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:03	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config uninstall bookinfohelm]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:13	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:13	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:13	[INFO]	Command output: [
[NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:13	[INFO]	Running command: [[git clone --depth 1 https://github.com/nocalhost/bookinfo.git /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/635998603]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:15	[INFO]	Command output: [
[ Cloning into '/var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/635998603'...
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:15	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config dependency build /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/635998603/charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:15	[INFO]	Command output: [
[ WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:15	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config install bookinfohelm /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/635998603/charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:19	[INFO]	Command output: [
[NAME: bookinfohelm
LAST DEPLOYED: Mon Aug  2 19:55:18 2021
NAMESPACE: lgwrthcjrc
STATUS: deployed
REVISION: 1
TEST SUITE: None
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: v1
kind: Service
metadata:
  name: details
  labels:
    app: details
    service: details
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: details
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: v1
kind: Service
metadata:
  name: productpage
  labels:
    app: productpage
    service: productpage
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: productpage
  type: NodePort
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: v1
kind: Service
metadata:
  name: ratings
  labels:
    app: ratings
    service: ratings
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: ratings
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: v1
kind: Service
metadata:
  name: reviews
  labels:
    app: reviews
    service: reviews
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: reviews
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: details
  labels:
    app: details
spec:
  replicas: 2
  selector:
    matchLabels:
      app: details
  template:
    metadata:
      labels:
        app: details
    spec:
      containers:
      - name: details
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/details
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: productpage
  labels:
    app: productpage
    app.kubernetes.io/name: productpage
spec:
  replicas: 2
  selector:
    matchLabels:
      app.kubernetes.io/name: productpage
      app: productpage
  template:
    metadata:
      labels:
        app.kubernetes.io/name: productpage
        app: productpage
    spec:
      containers:
      - name: productpage
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/productpage
        imagePullPolicy: IfNotPresent
        command: ['python', 'productpage.py', '9080']
        ports:
        - containerPort: 9080
        readinessProbe:
          tcpSocket:
            port: 9080
          initialDelaySeconds: 5
          periodSeconds: 10
        volumeMounts:
        - name: tmp
          mountPath: /tmp
      volumes:
      - name: tmp
        emptyDir: {}
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ratings
  labels:
    app: ratings
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ratings
  template:
    metadata:
      labels:
        app: ratings
    spec:
      containers:
      - name: ratings
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/ratings
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reviews
  labels:
    app: reviews
spec:
  replicas: 2
  selector:
    matchLabels:
      app: reviews
  template:
    metadata:
      labels:
        app: reviews
    spec:
      containers:
      - name: reviews
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/reviews
        env:
        - name: server.port
          value: "9080"
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
        
        livenessProbe:
          httpGet:
            path: /health
            port: 9080
          failureThreshold: 1
          periodSeconds: 10
---
# Source: nocalhost-bookinfo/templates/dep-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: dep-job
  labels:
    app: dep-job
spec:
  template:
    spec:
      containers:
      - name: print-num
        image: codingcorp-docker.pkg.coding.net/nocalhost/public/alpine:latest
        command: ["sleep", "2"]
      restartPolicy: Never
  backoffLimit: 4

]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:20	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:21	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:21	[INFO]	Command output: [
[NAME        	NAMESPACE 	REVISION	UPDATED                             	STATUS  	CHART                   	APP VERSION
bookinfohelm	lgwrthcjrc	1       	2021-08-02 19:55:18.462747 +0800 CST	deployed	nocalhost-bookinfo-1.2.2	1.3        
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:21	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config uninstall bookinfohelm]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:30	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:30	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:30	[INFO]	Command output: [
[NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:30	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config install bookinfohelm -u https://github.com/nocalhost/bookinfo.git -t helmGit --resource-path charts/bookinfo]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:47	[INFO]	Command output: [
[Installing application...
cmd: git clone --depth 1 https://github.com/nocalhost/bookinfo.git /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/128123041 --config core.sshCommand=ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
Updating helm repo...
cmd: helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "artifact-hub" chart repository
...Successfully got an update from the "coding-helm" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete. ⎈Happy Helming!⎈
building dependency...
cmd: helm dependency build /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/128123041/charts/bookinfo --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
Installing helm application, this may take several minutes, please waiting...
cmd: helm install bookinfohelm /var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/128123041/charts/bookinfo --timeout 60m --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config
NAME: bookinfohelm
LAST DEPLOYED: Mon Aug  2 19:55:44 2021
NAMESPACE: lgwrthcjrc
STATUS: deployed
REVISION: 1
TEST SUITE: None
helm nocalhost app installed, use "helm list -n lgwrthcjrc" to
get the information of the helm release
Application bookinfohelm installed
Starting port-forward for deployment productpage
Port forward 39080:9080
Port-forward 39080:9080 has been started
 Cloning into '/var/folders/15/_sp2z3dd0fb8fstvwym6x9lh0000gn/T/128123041'...
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: v1
kind: Service
metadata:
  name: details
  labels:
    app: details
    service: details
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: details
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: v1
kind: Service
metadata:
  name: productpage
  labels:
    app: productpage
    service: productpage
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: productpage
  type: NodePort
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: v1
kind: Service
metadata:
  name: ratings
  labels:
    app: ratings
    service: ratings
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: ratings
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: v1
kind: Service
metadata:
  name: reviews
  labels:
    app: reviews
    service: reviews
spec:
  ports:
  - port: 9080
    name: http
  selector:
    app: reviews
---
# Source: nocalhost-bookinfo/templates/microservice-details.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: details
  labels:
    app: details
spec:
  replicas: 2
  selector:
    matchLabels:
      app: details
  template:
    metadata:
      labels:
        app: details
    spec:
      containers:
      - name: details
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/details
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-productpage.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: productpage
  labels:
    app: productpage
    app.kubernetes.io/name: productpage
spec:
  replicas: 2
  selector:
    matchLabels:
      app.kubernetes.io/name: productpage
      app: productpage
  template:
    metadata:
      labels:
        app.kubernetes.io/name: productpage
        app: productpage
    spec:
      containers:
      - name: productpage
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/productpage
        imagePullPolicy: IfNotPresent
        command: ['python', 'productpage.py', '9080']
        ports:
        - containerPort: 9080
        readinessProbe:
          tcpSocket:
            port: 9080
          initialDelaySeconds: 5
          periodSeconds: 10
        volumeMounts:
        - name: tmp
          mountPath: /tmp
      volumes:
      - name: tmp
        emptyDir: {}
---
# Source: nocalhost-bookinfo/templates/microservice-ratings.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ratings
  labels:
    app: ratings
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ratings
  template:
    metadata:
      labels:
        app: ratings
    spec:
      containers:
      - name: ratings
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/ratings
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
---
# Source: nocalhost-bookinfo/templates/microservice-reviews.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reviews
  labels:
    app: reviews
spec:
  replicas: 2
  selector:
    matchLabels:
      app: reviews
  template:
    metadata:
      labels:
        app: reviews
    spec:
      containers:
      - name: reviews
        image: codingcorp-docker.pkg.coding.net/nocalhost/bookinfo/reviews
        env:
        - name: server.port
          value: "9080"
        imagePullPolicy: Always
        ports:
        - containerPort: 9080
        
        livenessProbe:
          httpGet:
            path: /health
            port: 9080
          failureThreshold: 1
          periodSeconds: 10
---
# Source: nocalhost-bookinfo/templates/dep-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: dep-job
  labels:
    app: dep-job
spec:
  template:
    spec:
      containers:
      - name: print-num
        image: codingcorp-docker.pkg.coding.net/nocalhost/public/alpine:latest
        command: ["sleep", "2"]
      restartPolicy: Never
  backoffLimit: 4

]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:48	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:48	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:48	[INFO]	Command output: [
[NAME        	NAMESPACE 	REVISION	UPDATED                            	STATUS  	CHART                   	APP VERSION
bookinfohelm	lgwrthcjrc	1       	2021-08-02 19:55:44.89669 +0800 CST	deployed	nocalhost-bookinfo-1.2.2	1.3        
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:48	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config uninstall bookinfohelm]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:54	[INFO]	Command output: [
[release "bookinfohelm" uninstalled
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:55	[INFO]	Running command: [[/Users/anur/.nh/bin/nhctl --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:55	[INFO]	Running command: [[helm --namespace lgwrthcjrc --kubeconfig /Users/anur/.kube/config list]]	{"TAG": "HelmAdaption"}
Aug  2 19:55:55	[INFO]	Command output: [
[NAME	NAMESPACE	REVISION	UPDATED	STATUS	CHART	APP VERSION
 WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/anur/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/anur/.kube/config
]
], stderr: [
%!s(MISSING)
]	{"TAG": "HelmAdaption"}
Aug  2 19:55:55	[INFO]	
============= Testing done, Cost([116.985635 %!f(string=HelmAdaption)]s) %!s(MISSING) =============
	{"TAG": "HelmAdaption"}
